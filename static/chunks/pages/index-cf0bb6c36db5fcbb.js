(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(6981)}])},6981:function(m,b,a){"use strict";a.r(b),a.d(b,{default:function(){return K}});var n=a(5893),c=a(9008),o=a.n(c),d=a(9024),p=a.n(d),q=function(a){var b=a.children;return(0,n.jsx)("section",{className:p().root,children:b})},e=a(6076),r=a.n(e),s=function(a){var b=a.children;return(0,n.jsx)("div",{className:r().root,children:b})},t=a(7294),f=a(40),u=a.n(f),v=a(2538),g=a(2313),w=a.n(g),h=a(3852),x=a.n(h),y=function(d){var a=d.product,b=(0,t.useContext)(v.B),f=b.clearProduct,g=b.updateQty,c=(0,t.useState)(a.qty),e=c[0],h=c[1];return(0,n.jsxs)("div",{className:x().root,children:[(0,n.jsxs)("div",{className:x().header,children:[(0,n.jsx)("h3",{className:x().name,children:a.name}),(0,n.jsxs)("span",{children:["Price: \u20AC ",a.price]})]}),(0,n.jsxs)("label",{className:x().label,children:[(0,n.jsx)("span",{children:"Qty: "}),(0,n.jsx)("input",{className:x().input,type:"number",name:"name",onChange:function(b){h(parseInt(b.currentTarget.value)),g({id:a.id,imgUrl:a.imgUrl,name:a.name,price:a.price,qty:e+1})},value:e})]}),(0,n.jsx)("button",{className:x().remove,onClick:function(){return f(a.id)},children:"Remove"})]})},z=function(a){var d=a.active,e=a.setState,b=(0,t.useContext)(v.B),c=b.products,f=b.setProducts;return(0,t.useEffect)(function(){var a=window.localStorage.getItem("MY_APP_STATE");null!==a&&f(JSON.parse(a))},[]),(0,t.useEffect)(function(){window.localStorage.setItem("MY_APP_STATE",JSON.stringify(c))},[c]),(0,n.jsxs)("div",{className:d?"".concat(w().hide):"".concat(w().root),children:[(0,n.jsxs)("div",{className:w().header,children:[(0,n.jsx)("h2",{children:"Favourites"}),(0,n.jsx)("span",{className:w().close,onClick:function(){e(!d)},children:"close"})]}),(0,n.jsx)("div",{className:w().main,children:c.map(function(a,b){return(0,n.jsx)(y,{product:a},b)})}),(0,n.jsx)("div",{className:w().footer,children:(0,n.jsx)("button",{children:"Purchase"})})]})},A=function(){var c=(0,t.useContext)(v.B).products,a=(0,t.useState)(!1),d=a[0],e=a[1],b=function(){e(!d)};return(0,n.jsxs)("header",{className:u().header,children:[(0,n.jsxs)(q,{children:[(0,n.jsx)("div",{className:u().bg}),(0,n.jsxs)("nav",{className:u().nav,children:[(0,n.jsx)("h1",{children:"Logo"}),(0,n.jsxs)("div",{className:u().favourites,onClick:b,children:[(0,n.jsx)("span",{children:"Favourites"}),(0,n.jsx)("span",{className:u().badge,children:c.length})]})]})]}),(0,n.jsx)(z,{active:d,setState:b})]})},B=function(a){var b=a.children;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(A,{}),(0,n.jsx)(q,{children:(0,n.jsx)(s,{children:b})})]})},i=a(6719),C=a.n(i),D=a(8100),j=a(86),E=a.n(j),k=a(5675),F=a.n(k),l=a(1135),G=a.n(l),H=function(a){var e=a.id,c=a.imgUrl,d=a.name,b=a.price,f=a.qty,g=(0,t.useContext)(v.B).saveProduct,h=function(a,b){a.preventDefault(),g(b)};return(0,n.jsxs)("li",{className:G().product,children:[(0,n.jsx)("div",{className:G().productImage,children:(0,n.jsx)(F(),{src:c,layout:"fill"})}),(0,n.jsxs)("div",{className:G().content,children:[(0,n.jsxs)("div",{className:G().header,children:[(0,n.jsx)("h3",{className:G().name,children:d}),(0,n.jsx)("span",{className:G().price,children:b?"\u20AC ".concat(b):"out of stock"})]}),(0,n.jsx)("button",{onClick:function(a){return h(a,{id:e,imgUrl:c,name:d,price:b,qty:f})},children:"Add to favourites"})]})]})},I=function(a){var b=a.items;return(0,n.jsx)("ul",{className:E().productList,children:b.map(function(a,b){return(0,n.jsx)(H,{id:a.id,imgUrl:a.imgUrl,name:a.name,price:a.price,qty:1},b)})})},J=function(a){return fetch(a).then(function(a){return a.json()})},K=function(){var a=(0,D.ZP)("/api/staticdata",J),b=a.data;return a.error?(0,n.jsx)("div",{children:"Failed to load"}):b?(0,n.jsxs)("div",{className:C().container,children:[(0,n.jsxs)(o(),{children:[(0,n.jsx)("title",{children:"Product Page"}),(0,n.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)(B,{children:(0,n.jsx)(I,{items:b.arrayOfProducts})})]}):(0,n.jsx)("div",{children:"Loading..."})}},9024:function(a){a.exports={root:"Container_root__qvtQX"}},6076:function(a){a.exports={root:"Grid_root__DpvMk"}},40:function(a){a.exports={header:"Navigation_header__91jUn",nav:"Navigation_nav__UFmD0",favourites:"Navigation_favourites__q5grK",badge:"Navigation_badge__GpTkx"}},1135:function(a){a.exports={product:"Productitem_product__MZFR1",content:"Productitem_content__Eu3j8",price:"Productitem_price__X0Bwd",productImage:"Productitem_productImage__9uoZB"}},86:function(a){a.exports={productList:"Products_productList__xzmXA"}},2313:function(a){a.exports={root:"Wishlist_root__FsChw",hide:"Wishlist_hide__MmWWX",header:"Wishlist_header__ota8Q",close:"Wishlist_close__f48hS",main:"Wishlist_main__Zn4KY",footer:"Wishlist_footer__Gokzr"}},3852:function(a){a.exports={root:"WishlistProduct_root__76Bql",header:"WishlistProduct_header__TeFsY",name:"WishlistProduct_name__T7bvO",label:"WishlistProduct_label__p_CCA",input:"WishlistProduct_input__Ysp_m",remove:"WishlistProduct_remove__pIyZ9"}},6719:function(a){a.exports={container:"index_container__twYoi"}}},function(a){a.O(0,[711,774,888,179],function(){var b;return a(a.s=8312)}),_N_E=a.O()}])